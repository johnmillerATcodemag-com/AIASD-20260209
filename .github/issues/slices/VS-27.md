---
title: "VS-27: Statistics Mode Calculator"
labels: ["slice:advanced", "priority:low", "type:feature", "phase:v3.0"]
assignees: []
---

## Overview

**Slice Type:** Advanced Feature
**Priority:** Low
**Effort:** 14 hours
**Risk:** Medium
**Dependencies:** VS-09 (data history)

Add statistics calculator mode for data analysis functions.

## User Story

```
As a student or data analyst
I want statistical calculation functions
So that I can analyze datasets quickly
```

## Acceptance Criteria

- [ ] Data entry for statistical datasets
- [ ] Mean, median, mode calculations
- [ ] Standard deviation calculations
- [ ] Variance calculations
- [ ] Data visualization (simple charts)
- [ ] Import data from CSV
- [ ] Sum, count, min, max functions

## Technical Requirements

**Statistical Functions:**

```javascript
const statisticsOps = {
  mean: (data) => {
    return data.reduce((sum, val) => sum + val, 0) / data.length;
  },

  median: (data) => {
    const sorted = [...data].sort((a, b) => a - b);
    const mid = Math.floor(sorted.length / 2);
    return sorted.length % 2 === 0
      ? (sorted[mid - 1] + sorted[mid]) / 2
      : sorted[mid];
  },

  mode: (data) => {
    const frequency = {};
    data.forEach((val) => (frequency[val] = (frequency[val] || 0) + 1));
    const maxFreq = Math.max(...Object.values(frequency));
    return Object.keys(frequency)
      .filter((key) => frequency[key] === maxFreq)
      .map(Number);
  },

  variance: (data) => {
    const avg = statisticsOps.mean(data);
    const squaredDiffs = data.map((val) => Math.pow(val - avg, 2));
    return statisticsOps.mean(squaredDiffs);
  },

  standardDeviation: (data) => {
    return Math.sqrt(statisticsOps.variance(data));
  },

  sum: (data) => data.reduce((sum, val) => sum + val, 0),

  count: (data) => data.length,

  min: (data) => Math.min(...data),

  max: (data) => Math.max(...data),
};
```

**Data Management:**

```javascript
const statsData = {
  dataset: [],
  maxDataPoints: 1000,
};

function addDataPoint(value) {
  if (statsData.dataset.length >= statsData.maxDataPoints) {
    return { error: true, message: "Maximum data points reached" };
  }
  statsData.dataset.push(parseFloat(value));
  return { error: false };
}

function importCSV(csvText) {
  const values = csvText
    .split(/[,\n]/)
    .map((v) => v.trim())
    .filter((v) => v !== "")
    .map((v) => parseFloat(v))
    .filter((v) => !isNaN(v));

  statsData.dataset = values;
  return { error: false, count: values.length };
}
```

**UI Components:**

- Data entry field
- Data list display
- Statistical function buttons
- Results display area
- CSV import button
- Clear data button
- Optional: Simple chart visualization

## Implementation Checklist

- [ ] Implement all statistical functions
- [ ] Create data management system
- [ ] Build data entry UI
- [ ] Create statistics function buttons
- [ ] Implement CSV import
- [ ] Add data visualization (optional)
- [ ] Style statistics mode UI
- [ ] Write unit tests for all functions
- [ ] Test with various datasets
- [ ] Test edge cases (empty data, single value)
- [ ] Add statistics mode documentation
