---
title: "VS-28: Date and Time Calculator"
labels: ["slice:advanced", "priority:low", "type:feature", "phase:v3.0"]
assignees: []
---

## Overview

**Slice Type:** Advanced Feature
**Priority:** Low
**Effort:** 10 hours
**Risk:** Low
**Dependencies:** VS-01 (display)

Add date/time calculation mode for date arithmetic.

## User Story

```
As a user needing date calculations
I want date and time arithmetic functions
So that I can calculate dates, durations, and ages
```

## Acceptance Criteria

- [ ] Date difference calculator
- [ ] Add/subtract days from date
- [ ] Add/subtract time durations
- [ ] Time zone conversions
- [ ] Business days calculator
- [ ] Age calculator
- [ ] Date formatting options

## Technical Requirements

**Date/Time Functions:**

```javascript
const dateTimeOps = {
  dateDifference: (date1, date2, unit = "days") => {
    const d1 = new Date(date1);
    const d2 = new Date(date2);
    const diffMs = Math.abs(d2 - d1);

    const units = {
      days: diffMs / (1000 * 60 * 60 * 24),
      hours: diffMs / (1000 * 60 * 60),
      minutes: diffMs / (1000 * 60),
      seconds: diffMs / 1000,
    };

    return Math.floor(units[unit]);
  },

  addDays: (date, days) => {
    const result = new Date(date);
    result.setDate(result.getDate() + days);
    return result.toISOString().split("T")[0];
  },

  addBusinessDays: (date, days) => {
    let result = new Date(date);
    let added = 0;

    while (added < days) {
      result.setDate(result.getDate() + 1);
      const dayOfWeek = result.getDay();
      if (dayOfWeek !== 0 && dayOfWeek !== 6) {
        // Skip weekends
        added++;
      }
    }

    return result.toISOString().split("T")[0];
  },

  calculateAge: (birthDate) => {
    const birth = new Date(birthDate);
    const today = new Date();
    let age = today.getFullYear() - birth.getFullYear();
    const monthDiff = today.getMonth() - birth.getMonth();

    if (
      monthDiff < 0 ||
      (monthDiff === 0 && today.getDate() < birth.getDate())
    ) {
      age--;
    }

    return age;
  },

  convertTimeZone: (datetime, fromTZ, toTZ) => {
    // Implementation using Intl.DateTimeFormat
    return new Date(datetime).toLocaleString("en-US", { timeZone: toTZ });
  },
};
```

**UI Components:**

- Date picker inputs
- Time picker inputs
- Operation selector
- Unit selector (days, hours, etc.)
- Calculate button
- Result display with format options

## Implementation Checklist

- [ ] Implement date difference calculation
- [ ] Implement add/subtract days
- [ ] Implement business days calculator
- [ ] Implement age calculator
- [ ] Implement time zone conversion
- [ ] Create date/time mode UI
- [ ] Add date/time pickers
- [ ] Add unit selectors
- [ ] Style date/time calculator
- [ ] Write unit tests for all functions
- [ ] Test edge cases (leap years, DST)
- [ ] Test time zone conversions
- [ ] Add documentation for date calculations
